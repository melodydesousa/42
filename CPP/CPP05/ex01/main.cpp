#include "Form.hpp"
#include "Bureaucrat.hpp"
#include "colors.h"

int main()
{
	Form form(1, 15, "Fofo");
	Bureaucrat test("Bubu", 20);
	std::cout << BLINK_YELLOW "************* Grade = 20 -> CAN SIGN **********\n" RESET;
	try
	{
		std::cout << test;
		std::cout << form;
		form.beSigned(test);
		test.signForm(form);
	}
	catch  (std::exception& e)
	{
		std::cout << e.what();
	}
	test.decrease_grade();
	std::cout << BLINK_YELLOW "*********** Grade = 21 -> TOO LOW ************\n" RESET;
	try
	{
		std::cout << test;
		std::cout << form;
		test.signForm(form);
	}
	catch  (std::exception& e)
	{
		std::cout << e.what();
	}
	test.setGrade(1);
	std::cout << BLINK_YELLOW "************ Grade set to 1 -> CAN SIGN ***********\n" RESET;
	try
	{
		std::cout << test;
		std::cout << form;
		form.beSigned(test);
		test.signForm(form);
	}
	catch  (std::exception& e)
	{
		std::cout << e.what();
	}

	return 0;
}
